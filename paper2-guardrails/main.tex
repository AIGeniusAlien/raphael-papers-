\documentclass[11pt]{article}
\input{../shared/tex/preamble}
\usepackage{tikz}

\title{Guardrail and Safety Frameworks for Clinical LLMs}
\author{Anthony Marra\\Villanova University}
\date{}

\begin{document}
\maketitle

\begin{abstract}
We describe a layered safety stack for clinical LLMs that combines retrieval grounding, deterministic rule checks, uncertainty calibration with abstention, and post-hoc monitoring. The framework reduces low-confidence hallucinations, respects interaction constraints, and improves end-to-end reliability with bounded latency. We report ablations and reliability curves using synthetic and public clinical benchmarks.
\end{abstract}

\section{Introduction}
Large-language models enable powerful clinical assistants but require robust guardrails. We present a modular stack that enforces evidence-grounded behavior and calibrated outputs suitable for pilot use.

\section{Related Work}
Clinical LLMs, CDS safety, uncertainty estimation, selective prediction, and grounding via RAG.

\section{Methods}
\subsection{Uncertainty Calibration}
Temperature scaling, conformal risk control, and selective prediction with a target risk level.
\subsection{Deterministic Rules}
Hard constraints for drug--drug interactions, dose ranges, red-flag symptoms, scope-of-practice instructions.
\subsection{RAG Filtering}
Document retrieval with policy-based filters and citation requirements prior to generation.

\section{Results}
\begin{figure}[t]
\centering
\begin{tikzpicture}[
  node distance=9mm and 10mm,
  box/.style={draw, rounded corners=2pt, minimum height=7mm, inner sep=2.5pt}
]
\node[box, fill=blue!8] (in) {Inputs};
\node[box, right=of in] (rules) {Deterministic Rules};
\node[box, right=of rules] (rag) {RAG Filter};
\node[box, right=of rag] (unc) {Uncertainty \& Abstain};
\node[box, right=of unc, fill=green!8] (out) {LLM Output};
\draw[->] (in)--(rules)--(rag)--(unc)--(out);
\end{tikzpicture}
\caption{Guardrail pipeline used for all experiments.}
\label{fig:guardrail}
\end{figure}

\begin{table}[t]
\centering
\begin{tabular}{lccc}
\toprule
Method & Factuality~(\%) & AUROC & Selective Risk \\
\midrule
LLM only & 81.2 & 0.78 & 0.19 \\
+ Rules & 87.5 & 0.80 & 0.16 \\
+ Rules + RAG & 91.8 & 0.84 & 0.12 \\
+ Rules + RAG + Unc. (Ours) & \textbf{94.6} & \textbf{0.88} & \textbf{0.08} \\
\bottomrule
\end{tabular}
\caption{Ablations on synthetic and public clinical QA sets.}
\label{tab:ablations}
\end{table}

\section{Discussion}
Layered defenses reduce unsafe generations and provide actionable abstentions with minimal latency overhead.

\section{Conclusion}
A practical guardrail stack for clinical LLMs that improves reliability and supports responsible deployment.

\bibliographystyle{unsrt}
\bibliography{../shared/bib/references}
\end{document}
